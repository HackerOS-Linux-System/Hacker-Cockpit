<%- include('base', { title: 'Penetration Testing' }) %>
<div class="card">
    <h2 class="text-2xl glow mb-4">Penetration Testing</h2>
    <select id="tool" class="bg-gray-800 p-2 rounded mb-2 text-white">
        <option value="nmap">Nmap</option>
        <option value="nikto">Nikto</option>
    </select>
    <input id="target" type="text" placeholder="Target" class="bg-gray-800 p-2 rounded mb-2 w-full text-white">
    <button onclick="runPentest()" class="btn bg-green-500 hover:bg-green-600 p-2 rounded">Run</button>
    <pre id="pentestResult" class="text-sm overflow-auto h-96 bg-black p-2 rounded mt-4"></pre>
</div>
<script>
    async function runPentest() {
        const tool = document.getElementById('tool').value;
        const target = document.getElementById('target').value;
        const res = await fetch('/pentest', { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, body: `tool=${tool}&target=${target}` });
        const result = await res.json();
        document.getElementById('pentestResult').textContent = result.result;
    }
</script>
